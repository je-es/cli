{"version":3,"sources":["../src/main.ts"],"names":["CLIError","_CLIError","message","code","ValidationError","CommandNotFoundError","command","ArgumentParser","args","result","token","key","value","flags","i","flag","CLI","config","cmd","alias","opt","argv","parsed","reparsed","error","commandName","idx","positional","options","numRequiredArgs","a","argsConsumed","o","allKnown","rawOptions","knownOptionKeys","dynamicArgsStart","argConfig","validation","dynamicOptions","optionIndices","optConfig","converted","j","dynamicArgs","unknownKey","cleanAlias","type","num","uniqueCommands","name","aliases","usage","arg","req","example","CLIBuilder","version","desc","option","cli","main_default"],"mappings":"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","file":"main.cjs","sourcesContent":["// main.ts\n//\n// repo   : https://github.com/je-es/cli\n// author : https://github.com/maysara-elshewehy\n//\n// Developed with ❤️ by Maysara.\n\n\n\n// ╔════════════════════════════════════════ PACK ════════════════════════════════════════╗\n\n    import * as types from './types.d';\n    export * from './types.d';\n\n// ╚══════════════════════════════════════════════════════════════════════════════════════╝\n\n\n\n// ╔═══════════════════════════════════════ ERRORS ═══════════════════════════════════════╗\n\n    export class CLIError extends Error {\n        constructor(message: string, public code: string = 'CLI_ERROR') {\n            super(message);\n            this.name = 'CLIError';\n            Error.captureStackTrace?.(this, CLIError);\n        }\n    }\n\n    export class ValidationError extends CLIError {\n        constructor(message: string) {\n            super(message, 'VALIDATION_ERROR');\n            this.name = 'ValidationError';\n        }\n    }\n\n    export class CommandNotFoundError extends CLIError {\n        constructor(command: string) {\n            super(`Command '${command}' not found`, 'COMMAND_NOT_FOUND');\n            this.name = 'CommandNotFoundError';\n        }\n    }\n\n// ╚══════════════════════════════════════════════════════════════════════════════════════╝\n\n\n\n// ╔════════════════════════════════════════ CORE ════════════════════════════════════════╗\n\n    class ArgumentParser {\n        private tokens: string[] = [];\n        private position = 0;\n\n        parse(args: string[]): { command?: string; options: Record<string, any>; positional: string[] } {\n            this.tokens = args;\n            this.position = 0;\n\n            const result: { command?: string; options: Record<string, any>; positional: string[] } = {\n            options: {},\n            positional: []\n            };\n\n            // First token might be a command\n            if (this.hasNext() && !this.peek().startsWith('-')) {\n            result.command = this.consume();\n            }\n\n            while (this.hasNext()) {\n            const token = this.consume();\n\n            if (token.startsWith('--')) {\n                // Long option\n                const [key, value] = token.slice(2).split('=');\n                if (value !== undefined) {\n                result.options[key] = value;\n                } else if (this.hasNext() && !this.peek().startsWith('-')) {\n                result.options[key] = this.consume();\n                } else {\n                result.options[key] = true;\n                }\n            } else if (token.startsWith('-') && token.length > 1) {\n                // Short option(s)\n                const flags = token.slice(1).split('');\n                for (let i = 0; i < flags.length; i++) {\n                const flag = flags[i];\n                if (i === flags.length - 1 && this.hasNext() && !this.peek().startsWith('-')) {\n                    result.options[flag] = this.consume();\n                } else {\n                    result.options[flag] = true;\n                }\n                }\n            } else {\n                // Positional argument\n                result.positional.push(token);\n            }\n            }\n\n            return result;\n        }\n\n        private hasNext(): boolean {\n            return this.position < this.tokens.length;\n        }\n\n        private peek(): string {\n            return this.tokens[this.position];\n        }\n\n        private consume(): string {\n            return this.tokens[this.position++];\n        }\n    }\n\n    export class CLI {\n        private config: types.CLIConfig;\n        private commands: Map<string, types.CommandConfig> = new Map();\n        private globalOptions: Map<string, types.OptionConfig> = new Map();\n        private parser = new ArgumentParser();\n\n        constructor(config: types.CLIConfig) {\n            this.config = config;\n            this.initializeCommands();\n            this.initializeGlobalOptions();\n        }\n\n        private initializeCommands(): void {\n            if (!this.config.commands) return;\n\n            for (const cmd of this.config.commands) {\n            this.commands.set(cmd.name, cmd);\n            if (cmd.aliases) {\n                for (const alias of cmd.aliases) {\n                this.commands.set(alias, cmd);\n                }\n            }\n            }\n        }\n\n        private initializeGlobalOptions(): void {\n            if (!this.config.globalOptions) return;\n\n            for (const opt of this.config.globalOptions) {\n            this.globalOptions.set(opt.name, opt);\n            this.globalOptions.set(opt.flag, opt);\n            if (opt.aliases) {\n                for (const alias of opt.aliases) {\n                this.globalOptions.set(alias, opt);\n                }\n            }\n            }\n        }\n\n        async run(argv: string[] = process.argv.slice(2)): Promise<void> {\n            try {\n            const parsed = this.parser.parse(argv);\n\n            // Handle help (always check this first)\n            if (parsed.options.help || parsed.options.h) {\n                this.showHelp(parsed.command);\n                return;\n            }\n\n            // No command provided - check for version or show help\n            if (!parsed.command) {\n                // Handle version only when no command\n                if (parsed.options.version || parsed.options.v) {\n                console.log(`${this.config.name} v${this.config.version}`);\n                return;\n                }\n\n                if (this.commands.size === 0) {\n                throw new CLIError('No command specified');\n                }\n                this.showHelp();\n                return;\n            }\n\n            // Find command\n            const command = this.commands.get(parsed.command);\n            if (!command) {\n                throw new CommandNotFoundError(parsed.command);\n            }\n\n            // Check if -v/--version should be handled as version (only if command doesn't use -v)\n            const commandUsesV = command.options?.some(opt =>\n                opt.flag === '-v' || opt.aliases?.includes('-v')\n            );\n\n            if (!commandUsesV && (parsed.options.version || parsed.options.v)) {\n                console.log(`${this.config.name} v${this.config.version}`);\n                return;\n            }\n\n            // If command allows dynamic args, re-parse to preserve option-like arguments\n            if (command.allowDynamicArgs) {\n                const reparsed = this.reparseForDynamicArgs(argv, parsed.command);\n                const result = this.parseCommand(command, reparsed.positional, reparsed.options);\n                if (command.action) {\n                    await command.action(result);\n                }\n            } else {\n                // Parse and validate normally\n                const result = this.parseCommand(command, parsed.positional, parsed.options);\n\n                // Execute command\n                if (command.action) {\n                    await command.action(result);\n                }\n            }\n            } catch (error) {\n            this.handleError(error);\n            }\n        }\n\n        private reparseForDynamicArgs(argv: string[], commandName: string): { positional: string[]; options: Record<string, any> } {\n            let idx = 0;\n\n            // Find command in argv\n            while (idx < argv.length && argv[idx] !== commandName) {\n                idx++;\n            }\n            idx++; // Skip command name\n\n            const positional: string[] = [];\n            const options: Record<string, any> = {};\n            const command = this.commands.get(commandName);\n            const numRequiredArgs = command?.args?.filter(a => a.required !== false).length || 0;\n            let argsConsumed = 0;\n\n            while (idx < argv.length) {\n                const token = argv[idx];\n\n                // Consume required positional arguments first\n                if (argsConsumed < numRequiredArgs && !token.startsWith('-')) {\n                    positional.push(token);\n                    argsConsumed++;\n                    idx++;\n                    continue;\n                }\n\n                // After required args are consumed, handle options vs args\n                if (token.startsWith('--')) {\n                    const [key, value] = token.slice(2).split('=');\n                    const isKnownOption = command?.options?.some(o =>\n                        o.flag === `--${key}` || o.name === key || o.aliases?.includes(`--${key}`)\n                    );\n\n                    if (isKnownOption) {\n                        // Known option - parse normally\n                        if (value !== undefined) {\n                            options[key] = value;\n                        } else if (idx + 1 < argv.length && !argv[idx + 1].startsWith('-')) {\n                            options[key] = argv[idx + 1];\n                            idx++;\n                        } else {\n                            options[key] = true;\n                        }\n                    } else {\n                        // Unknown option - add to positional for later processing as dynamic option\n                        positional.push(token);\n                        // Check if next token is a value for this option\n                        if (value === undefined && idx + 1 < argv.length && !argv[idx + 1].startsWith('-')) {\n                            positional.push(argv[idx + 1]);\n                            idx++;\n                        }\n                    }\n                } else if (token.startsWith('-') && token.length > 1 && isNaN(Number(token))) {\n                    // Short option(s) - check if all are known\n                    const flags = token.slice(1).split('');\n                    let allKnown = true;\n\n                    // Check if all flags are known\n                    for (const flag of flags) {\n                        const isKnownOption = command?.options?.some(o =>\n                            o.flag === `-${flag}` || o.aliases?.includes(`-${flag}`)\n                        );\n                        if (!isKnownOption) {\n                            allKnown = false;\n                            break;\n                        }\n                    }\n\n                    if (allKnown) {\n                        // All flags are known - parse them\n                        for (let i = 0; i < flags.length; i++) {\n                            const flag = flags[i];\n                            if (i === flags.length - 1 && idx + 1 < argv.length && !argv[idx + 1].startsWith('-')) {\n                                options[flag] = argv[idx + 1];\n                                idx++;\n                            } else {\n                                options[flag] = true;\n                            }\n                        }\n                    } else {\n                        // Some flags are unknown - add entire token to positional\n                        positional.push(token);\n                        // Check if next token is a value\n                        if (idx + 1 < argv.length && !argv[idx + 1].startsWith('-')) {\n                            positional.push(argv[idx + 1]);\n                            idx++;\n                        }\n                    }\n                } else {\n                    // Regular positional argument\n                    positional.push(token);\n                }\n\n                idx++;\n            }\n\n            return { positional, options };\n        }\n\n        private parseCommand(\n            command: types.CommandConfig,\n            positional: string[],\n            rawOptions: Record<string, any>\n        ): any {\n            const result: any = { args: {}, options: {} };\n\n            // Track which options are known\n            const knownOptionKeys = new Set<string>();\n            if (command.options) {\n            for (const opt of command.options) {\n                knownOptionKeys.add(opt.name);\n                knownOptionKeys.add(opt.flag.replace(/^-+/, ''));\n                if (opt.aliases) {\n                opt.aliases.forEach(a => knownOptionKeys.add(a.replace(/^-+/, '')));\n                }\n            }\n            }\n\n            // Parse arguments\n            let dynamicArgsStart = 0;\n            if (command.args) {\n            for (let i = 0; i < command.args.length; i++) {\n                const argConfig = command.args[i];\n                const value = positional[i];\n\n                if (!value) {\n                if (argConfig.required !== false) {\n                    throw new ValidationError(`Missing required argument: ${argConfig.name}`);\n                }\n                result.args[argConfig.name] = argConfig.default;\n                continue;\n                }\n\n                // Validate\n                if (argConfig.validate) {\n                const validation = argConfig.validate(value);\n                if (validation !== true) {\n                    throw new ValidationError(\n                    typeof validation === 'string'\n                        ? validation\n                        : `Invalid value for argument '${argConfig.name}': ${value}`\n                    );\n                }\n                }\n\n                result.args[argConfig.name] = value;\n                dynamicArgsStart = i + 1;\n            }\n            }\n\n            // Parse options\n            const dynamicOptions: Record<string, any> = {};\n            const optionIndices = new Set<number>();\n\n            if (command.options) {\n            for (const optConfig of command.options) {\n                const value = this.getOptionValue(optConfig, rawOptions);\n\n                if (value === undefined) {\n                if (optConfig.required) {\n                    throw new ValidationError(`Missing required option: --${optConfig.name}`);\n                }\n                result.options[optConfig.name] = optConfig.default;\n                continue;\n                }\n\n                // Type conversion\n                const converted = this.convertOptionType(value, optConfig.type);\n\n                // Validate\n                if (optConfig.validate) {\n                const validation = optConfig.validate(converted);\n                if (validation !== true) {\n                    throw new ValidationError(\n                    typeof validation === 'string'\n                        ? validation\n                        : `Invalid value for option '${optConfig.name}': ${converted}`\n                    );\n                }\n                }\n\n                result.options[optConfig.name] = converted;\n            }\n            }\n\n            // Handle dynamic options from rawOptions\n            for (const [key, value] of Object.entries(rawOptions)) {\n            if (!knownOptionKeys.has(key)) {\n                dynamicOptions[key] = value;\n            }\n            }\n\n            // Parse dynamic options from positional args and track their indices (only if allowDynamicOptions)\n            if (command.allowDynamicOptions) {\n            let i = dynamicArgsStart;\n            while (i < positional.length) {\n                const token = positional[i];\n\n                if (token.startsWith('--')) {\n                const [key, value] = token.slice(2).split('=');\n                optionIndices.add(i);\n                if (value !== undefined) {\n                    dynamicOptions[key] = value;\n                    i++;\n                } else if (i + 1 < positional.length && !positional[i + 1].startsWith('-')) {\n                    dynamicOptions[key] = positional[i + 1];\n                    optionIndices.add(i + 1);\n                    i += 2;\n                } else {\n                    dynamicOptions[key] = true;\n                    i++;\n                }\n                } else if (token.startsWith('-') && token.length > 1 && isNaN(Number(token))) {\n                optionIndices.add(i);\n                const flags = token.slice(1).split('');\n                for (let j = 0; j < flags.length; j++) {\n                    const flag = flags[j];\n                    if (j === flags.length - 1 && i + 1 < positional.length && !positional[i + 1].startsWith('-')) {\n                        dynamicOptions[flag] = positional[i + 1];\n                        optionIndices.add(i + 1);\n                        i++;\n                    } else {\n                        dynamicOptions[flag] = true;\n                    }\n                }\n                i++;\n                } else {\n                i++;\n                }\n            }\n            }\n\n            // Handle dynamic arguments - filter out options using tracked indices\n            if (command.allowDynamicArgs) {\n            const dynamicArgs: string[] = [];\n            for (let i = dynamicArgsStart; i < positional.length; i++) {\n                if (!optionIndices.has(i)) {\n                dynamicArgs.push(positional[i]);\n                }\n            }\n            result.dynamicArgs = dynamicArgs;\n            } else if (positional.length > dynamicArgsStart) {\n            // Throw error if there are extra positional args but dynamic args not allowed\n            throw new ValidationError(`Unexpected argument: ${positional[dynamicArgsStart]}`);\n            }\n\n            if (command.allowDynamicOptions) {\n            result.dynamicOptions = dynamicOptions;\n            } else if (Object.keys(dynamicOptions).length > 0) {\n            // Throw error if there are unknown options but dynamic options not allowed\n            const unknownKey = Object.keys(dynamicOptions)[0];\n            throw new ValidationError(`Unknown option: ${unknownKey.length === 1 ? '-' : '--'}${unknownKey}`);\n            }\n\n            return result;\n        }\n\n        private getOptionValue(config: types.OptionConfig, rawOptions: Record<string, any>): any {\n            // Check by name first\n            if (rawOptions[config.name] !== undefined) {\n            return rawOptions[config.name];\n            }\n\n            // Check by flag (remove ALL leading dashes)\n            const flag = config.flag.replace(/^-+/, '');\n            if (rawOptions[flag] !== undefined) {\n            return rawOptions[flag];\n            }\n\n            // Check aliases\n            if (config.aliases) {\n            for (const alias of config.aliases) {\n                const cleanAlias = alias.replace(/^-+/, '');\n                if (rawOptions[cleanAlias] !== undefined) {\n                return rawOptions[cleanAlias];\n                }\n            }\n            }\n\n            return undefined;\n        }\n\n        private convertOptionType(value: any, type?: 'boolean' | 'string' | 'number'): any {\n            if (type === 'number') {\n            const num = Number(value);\n            if (isNaN(num)) {\n                throw new ValidationError(`Expected number, got: ${value}`);\n            }\n            return num;\n            }\n            if (type === 'boolean') {\n            if (value === true || value === 'true') return true;\n            if (value === false || value === 'false') return false;\n            return !!value;\n            }\n            return String(value);\n        }\n\n        private showHelp(commandName?: string): void {\n            if (commandName) {\n            const command = this.commands.get(commandName);\n            if (command) {\n                this.showCommandHelp(command);\n                return;\n            }\n            }\n\n            console.log(`${this.config.name} v${this.config.version}`);\n            if (this.config.description) {\n            console.log(this.config.description);\n            }\n            console.log();\n            console.log('USAGE:');\n            console.log(`  ${this.config.name} <command> [options]`);\n            console.log();\n            console.log('COMMANDS:');\n\n            const uniqueCommands = new Map<string, types.CommandConfig>();\n            for (const [name, cmd] of this.commands) {\n            if (name === cmd.name) {\n                uniqueCommands.set(name, cmd);\n            }\n            }\n\n            for (const [name, cmd] of uniqueCommands) {\n            const aliases = cmd.aliases ? ` (${cmd.aliases.join(', ')})` : '';\n            console.log(`  ${name}${aliases}`);\n            if (cmd.description) {\n                console.log(`    ${cmd.description}`);\n            }\n            }\n\n            console.log();\n            console.log('OPTIONS:');\n            console.log('  -h, --help       Show help');\n            console.log('  -v, --version    Show version');\n        }\n\n        private showCommandHelp(command: types.CommandConfig): void {\n            console.log(`${command.name}`);\n            if (command.description) {\n            console.log(command.description);\n            }\n            console.log();\n\n            // Usage\n            let usage = `${this.config.name} ${command.name}`;\n            if (command.args) {\n            usage += ' ' + command.args.map(a =>\n                a.required !== false ? `<${a.name}>` : `[${a.name}]`\n            ).join(' ');\n            }\n            if (command.allowDynamicArgs) {\n            usage += ' [...]';\n            }\n            console.log('USAGE:');\n            console.log(`  ${usage}`);\n            console.log();\n\n            // Arguments\n            if (command.args && command.args.length > 0) {\n            console.log('ARGUMENTS:');\n            for (const arg of command.args) {\n                const req = arg.required !== false ? 'required' : 'optional';\n                console.log(`  ${arg.name} (${req})`);\n                if (arg.description) {\n                console.log(`    ${arg.description}`);\n                }\n            }\n            if (command.allowDynamicArgs) {\n                console.log(`  ... (additional arguments allowed)`);\n            }\n            console.log();\n            }\n\n            // Options\n            if (command.options && command.options.length > 0) {\n            console.log('OPTIONS:');\n            for (const opt of command.options) {\n                const aliases = opt.aliases ? `, ${opt.aliases.join(', ')}` : '';\n                const req = opt.required ? ' (required)' : '';\n                console.log(`  ${opt.flag}${aliases}${req}`);\n                if (opt.description) {\n                console.log(`    ${opt.description}`);\n                }\n            }\n            }\n\n            if (command.allowDynamicOptions) {\n                console.log(`  ... (additional options allowed)`);\n            }\n\n            if ((command.options && command.options.length > 0) || command.allowDynamicOptions) {\n                console.log();\n            }\n\n            // Examples\n            if (command.examples && command.examples.length > 0) {\n            console.log('EXAMPLES:');\n            for (const example of command.examples) {\n                console.log(`  ${example}`);\n            }\n            console.log();\n            }\n        }\n\n        private handleError(error: unknown): void {\n            if (error instanceof CLIError) {\n            console.error(`Error: ${error.message}`);\n            process.exit(1);\n            } else if (error instanceof Error) {\n            console.error(`Unexpected error: ${error.message}`);\n            if (process.env.DEBUG) {\n                console.error(error.stack);\n            }\n            process.exit(1);\n            } else {\n            console.error('An unknown error occurred');\n            process.exit(1);\n            }\n        }\n    }\n\n    export class CLIBuilder {\n        private config: types.CLIConfig;\n\n        constructor(name: string, version: string) {\n            this.config = { name, version, commands: [], globalOptions: [] };\n        }\n\n        description(desc: string): this {\n            this.config.description = desc;\n            return this;\n        }\n\n        command(config: types.CommandConfig): this {\n            if (!this.config.commands) this.config.commands = [];\n            this.config.commands.push(config);\n            return this;\n        }\n\n        globalOption(option: types.OptionConfig): this {\n            if (!this.config.globalOptions) this.config.globalOptions = [];\n            this.config.globalOptions.push(option);\n            return this;\n        }\n\n        build(): CLI {\n            return new CLI(this.config);\n        }\n    }\n\n// ╚══════════════════════════════════════════════════════════════════════════════════════╝\n\n\n\n// ╔════════════════════════════════════════ ════ ════════════════════════════════════════╗\n\n    export function cli(name: string, version: string): CLIBuilder {\n        return new CLIBuilder(name, version);\n    }\n\n    export default cli;\n\n// ╚══════════════════════════════════════════════════════════════════════════════════════╝"]}